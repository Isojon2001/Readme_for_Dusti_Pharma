# DustiPharma Admin Panel

Административная панель для управления пользователями, партнёрами, звонками, мобильным приложением и бизнес-метриками. Построена на React с авторизацией, WebSocket и REST API.

// ============== //

## LoginPage.jsx

Форма авторизации:
Ввод логина (телефон) и пароля
Запрос на `/auth/sign-in`
Получение токена и данных пользователя
Сохранение в `localStorage`
Вызов `loginByToken` для обновления контекста
Перенаправление на `/dashboard`
Обработка ошибок и переключение видимости пароля

// ============= //

## Dashboard.jsx

Главная панель администратора:
Загрузка профиля и списка админов
Получение статистики с `/admin/statistics`
Подключение к WebSocket (`ws://10.10.10.21:8081`) для событий звонков
Сохранение последних 500 событий в `localStorage`
Вычисление метрик: всего, отвеченные, пропущенные, длительность
Поиск и пагинация карточек (по 7 штук)

// ============ //

## RoleAndRoot.jsx

Управление ролями сотрудников:
Загрузка профиля и списка пользователей
Фильтрация по ролям `admin` и `moderator`
Изменение роли через `RoleModal` (`PUT /admin/users`)
Удаление пользователя (`DELETE /admin/users/{id}`)
Пагинация по 6 пользователей
Обновление при `location.state.refresh`



## Partner.jsx

Управление партнёрами:
Загрузка всех пользователей
Фильтрация по роли `partner`
Поиск по имени, роли, телефону, менеджеру
Просмотр деталей через `alert`
Удаление партнёра (`DELETE /admin/users/{id}`)

// ========= //

## MobileApp.jsx

Управление мобильным приложением:
Загрузка профиля пользователя
Получение категорий (`/categories/all`)
Отображение: категории, push-уведомления, контентные блоки
Навигация через `useNavigate` (например, `/add-category`)
Выход через `logout()` и переход на `/`

// =========== //

## CallLogViewer.jsx

Журнал звонков:
Загрузка профиля
Подключение к WebSocket (`ws://10.10.10.21:8081`)
Получение и фильтрация событий звонков
Сохранение в `localStorage` (на 1 час)
Удаление дубликатов, сортировка по времени
Отображение статуса через `StatusBadge`
Пагинация по 8 звонков
Перевод системных статусов (`answered → Входящий`, `no answer → Пропущенный`, `busy → Занято` и т.д.)

// ============= //

##Технологии
- React, React Router
- Axios
- Lucide React (иконки)
- WebSocket
- AuthContext
- localStorage

// ============ //

## Структура
LoginPage.jsx
Dashboard.jsx
RoleAndRoot.jsx
Partner.jsx
MobileApp.jsx
CallLogViewer.jsx
SidebarItem.jsx
RoleModal.jsx
StatusBadge.jsx
context
AuthContext.jsx
